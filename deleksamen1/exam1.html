<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InnfProg 2024 - deleksamen 1</title>
    <link href="exam1.css" rel="stylesheet" media="all" />
  </head>
  <body>
    <main>
      <h2 id="heading"></h2>
      <p id="intro"></p>
      <ul>
        <li id="q1"></li>
        <li id="q2"></li>
        <li id="q3"></li>
      </ul>
      <p id="delivery"></p>
    </main>

    <script>
      const code = {
        hx: "Efmfltbnfo 1",
        ix: "A sfuuf gfjmfof ph lpnnfoufsf lpefo wbs cbsf gåstuf efm bw pqqhbwfo. Ev tlbm phta ub gps efh ufltufo ev tlsfw j bscfjetlsbw 1, ph tlsjwf fu ozuu sfgmfltkpotopubu oa oas ev ibs hkfoopngåsu lvstfu. J efuuf sfgmfltkpotopubufu, twbs qa gåmhfoef tqåstnam:",
        qx: [
          "Botfs ev qsphsbnnfsjoh tpn ozuujh?",
          "Tfs ev gps efh bu ev wjm csvlf qsphsbnnfsjoh j ejuu wjefsf tuvejfmåq?",
          "Iwps npujwfsu fs ev gps a vugpstlf qsphsbnnfsjoh wjefsf fuufs lvstfu?",
        ],
        // Feilen var på linje 31. Der var det erlik-tegn istedet for kolon. Endret "=" til ":" for at arrayen skal lese riktig
        dx: "Mbh fo QEG bw eplvnfoufu, ph mfhh wfe caef efuuf eplvnfoufu tbnu cftwbsfmtfo gps bscfjetlsbw 1 j cftwbsfmtfo ujm efmfltbnfo 1.",
      };

      function decode(input) {
        const alphabet = "abcdefghijklmnopqrstuvwxyzæøå";
        //Var feil på linje 37, der var det mangel på en apostroff. Lagt inn siste apostroff i stringen
        const alphabetUpper = "ABCDEFGHIJKLMNOPQRSTUVWXYZÆØÅ";

        const getPreviousChar = (char, alphabet) => {
          const index = alphabet.indexOf(char);
          return index === -1
            ? char
            : alphabet[(index - 1 + alphabet.length) % alphabet.length];
        };

        return input
          .split("")
          .map((char) => {
            //Var feil på linje 50, der alphabet hadde en ekstra T. Fjernet T-en i alphabet for at koden skal lese riktig const
            if (alphabet.includes(char)) {
              return getPreviousChar(char, alphabet);
            } else if (alphabetUpper.includes(char)) {
              return getPreviousChar(char, alphabetUpper);
            }
            return char;
          })
          .join("");
      }

      //PRINT DECODED MATERIAL
      document.getElementById("heading").innerHTML = decode(code.hx);
      document.getElementById("intro").innerHTML = decode(code.ix);
      //Feilen var på linje 64, innerhtml var skrevet med små bokstaver. Endret fra innerhtml til innerHTML.
      document.getElementById("q1").innerHTML = decode(code.qx[0]);
      //Feilen var på linje 66, der getElementById var skrevet feil med stor D. Endret getElementByID til getElementById for at det blir riktig kode
      document.getElementById("q2").innerHTML = decode(code.qx[1]);
      //Feilen var i linje 68, der det manglet en parantes bak i decode(code.qx[2). Endret koden til decode(code.qx[2])
      document.getElementById("q3").innerHTML = decode(code.qx[2]);
      document.getElementById("delivery").innerHTML = decode(code.dx);

      // Github repository: https://github.com/kevinlj2/innfprog2024kevin_eksamen
    </script>
  </body>
</html>
